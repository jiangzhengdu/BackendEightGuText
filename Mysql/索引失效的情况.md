索引失效
===

索引失效的情况
---

1. 如果条件中有or，即使其中有部分条件带索引也不会使用(这也是为什么尽量少用or的原因)，例子中user_id无索引 注意：要想使用or，又想让索引生效，只能将or条件中的每个列都加上索引,对于复合索引，如果不使用前列，后续列也将无法使用，类电话簿。

2. like查询是以%开头

3. 存在索引列的数据类型隐形转换，则用不上索引，比如列类型是字符串，那一定要在条件中将数据使用引号引用起来,否则不使用索引

4. where 子句里对索引列上有数学运算，用不上索引 where 子句里对有索引列使用函数，用不上索引

5. 如果列类型是字符串，那一定要在条件中将数据使用引号引用起来,否则不使用索引

6. 如果mysql估计使用全表扫描要比使用索引快,则不使用索引

7. 比如数据量极少的表

什么时没必要用
---

1. 数据唯一性差（一个字段的取值只有几种时）的字段不要使用索引

    比如性别，只有两种可能数据。意味着索引的二叉树级别少，多是平级。这样的二叉树查找无异于全表扫描。

2. 频繁更新的字段不要使用索引

    比如logincount登录次数，频繁变化导致索引也频繁变化，增大数据库工作量，降低效率。

3. 字段不在where语句出现时不要添加索引,如果where后含IS NULL /IS NOT NULL/ like ‘%输入符%’等条件，不建议使用索引

    只有在where语句出现，mysql才会去使用索引

4. where 子句里对索引列使用不等于（<>），使用索引效果一般
